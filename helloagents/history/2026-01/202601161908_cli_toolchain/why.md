# 变更提案: Rust CLI 一键工具链

## 需求背景
当前项目缺少统一的命令行入口，编译、汇编与烧录流程依赖手工与分散脚本，无法满足“一键从 .c 到烧录”的需求。

## 产品分析

### 目标用户与场景
- **用户群体:** 课程设计学生与项目维护者
- **使用场景:** 频繁迭代 C 程序并需要快速烧录到 FPGA
- **核心痛点:** 手工步骤多、路径配置分散、烧录步骤不可重复

### 价值主张与成功指标
- **价值主张:** 提供统一 CLI，降低门槛并减少人工错误
- **成功指标:** 单条命令完成 C 到烧录；默认配置开箱即用

### 人文关怀
避免复杂配置，提供清晰错误提示与可回滚的步骤拆分。

## 变更内容
1. 新增 Rust CLI 二进制与子命令集合
2. 集成 Vivado 批处理脚本，分离 bitstream 与烧录步骤
3. 更新文档说明与使用示例

## 影响范围
- **模块:** CLI 工具、编译器、汇编器、链接器、构建脚本、文档
- **文件:** Cargo.toml、Rust 源码、新增脚本与文档
- **API:** CLI 子命令接口
- **数据:** 无

## 核心场景

### 需求: CLI Toolchain
**模块:** CLI 工具
提供端到端编译与烧录能力。

#### 场景: c-to-coe
用户从 `.c` 直接生成 `.coe`。
- 预期结果: 生成 COE 并更新默认输出路径

#### 场景: bitstream
用户生成 bitstream，但不烧录设备。
- 预期结果: Vivado 生成 `.bit` 成功

#### 场景: program-device
用户将 bitstream 烧录到设备。
- 预期结果: 设备烧录成功并返回状态

#### 场景: full-pipeline
用户一键执行完整流程。
- 预期结果: COE、bitstream 与烧录全部完成

## 风险评估
- **风险:** Vivado 环境路径不一致导致调用失败
- **缓解:** 支持环境变量覆盖并提供清晰诊断信息
