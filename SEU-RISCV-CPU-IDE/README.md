# SEU-RISCV-CPU-IDE 使用说明书

## 1. 项目简介

SEU-RISCV-CPU-IDE 是一个基于 Electron 开发的 RISC-V 架构 CPU 集成开发环境，提供 C 代码编辑、编译和文件管理功能，支持生成 RISC-V 汇编文件、ELF 可执行文件和 COE 内存初始化文件，适用于 RISC-V 处理器的开发与调试。

## 2. 系统要求

- **操作系统**：Windows 10/11、Linux、macOS
- **Node.js**：版本 16.0 或更高
- **npm**：版本 8.0 或更高
- **RISC-V 编译器**：项目内置的 RISC-V 编译器（位于 `../target/release/` 目录）

## 3. 部署步骤

### 3.1 安装依赖

1. 打开终端，进入 IDE 目录：
   ```bash
   cd SEU-RISCV-CPU-IDE
   ```

2. 安装 Electron 依赖：
   ```bash
   npm install
   ```

### 3.2 启动 IDE

直接运行 Electron 应用：
```bash
npx electron .
```

或使用 npm 脚本（如果 package.json 中配置了）：
```bash
npm start
```

## 4. 使用指南

### 4.1 基本操作

#### 4.1.1 打开文件

1. 点击工具栏中的「打开」按钮
2. 在弹出的文件选择对话框中，选择要打开的 C 语言文件（.c 后缀）
3. 文件内容将自动加载到编辑器中

#### 4.1.2 保存文件

1. 点击工具栏中的「保存」按钮
2. 在弹出的保存对话框中，选择保存位置和文件名
3. 点击「保存」按钮完成保存

#### 4.1.3 编译程序

1. 在编辑器中编写或修改 C 代码
2. 可选择以下编译选项：
   - 勾选「生成 COE 文件」：编译时同时生成 COE 内存初始化文件
   - 输入「输出名称」：指定生成文件的基本名称（默认：output）
3. 点击工具栏中的「编译」按钮
4. 编译结果将显示在输出面板中

### 4.2 功能说明

#### 4.2.1 代码编辑器

- **语法高亮**：支持 C 语言语法高亮显示
- **自动补全**：提供 C 语言关键字、BIOS 函数和常用函数的自动补全功能
- **括号匹配**：自动匹配括号，提高代码编写效率
- **行号显示**：显示行号，便于定位代码位置

#### 4.2.2 输出面板

输出面板包含四个标签页：

1. **输出**：显示编译过程的日志信息和错误提示
2. **汇编代码**：显示编译生成的 RISC-V 汇编代码
3. **COE文件**：显示生成的 COE 内存初始化文件内容
4. **生成文件**：列出所有编译生成的文件及其路径

### 4.3 生成文件说明

编译成功后，将生成以下文件（默认保存在 `../output/` 目录）：

- **.c 文件**：用户编写的源代码文件
- **.s 文件**：编译生成的 RISC-V 汇编文件
- **.elf 文件**：编译生成的 RISC-V 可执行文件
- **.coe 文件**：内存初始化文件，用于 FPGA 开发

## 5. 项目结构

```
SEU-RISCV-CPU-IDE/
├── index.html      # 主界面 HTML 文件
├── main.js         # Electron 主进程代码
├── preload.js      # 预加载脚本，用于安全地暴露 API
├── package.json    # 项目依赖配置
└── README.md       # 本使用说明书
```

## 6. 常见问题

### 6.1 编译失败

**问题**：点击编译按钮后，输出面板显示编译失败。

**解决方案**：
- 检查 C 代码是否有语法错误
- 确保 `../target/release/` 目录下存在 RISC-V 编译器可执行文件
- 确保有足够的权限写入输出目录

### 6.2 文件无法保存

**问题**：点击保存按钮后，提示保存失败。

**解决方案**：
- 检查文件路径是否正确
- 确保有足够的权限写入目标目录
- 确保目标目录存在

### 6.3 IDE 无法启动

**问题**：运行 `npx electron .` 后，IDE 无法启动。

**解决方案**：
- 检查 Node.js 和 npm 版本是否符合要求
- 重新安装依赖：`npm install`
- 查看终端输出的错误信息，针对性解决

## 7. 技术支持

如果在使用过程中遇到问题，可以通过以下方式获取帮助：

- 查看项目源码，了解具体实现
- 检查编译输出和错误信息
- 确认系统环境和依赖是否正确安装

## 8. 更新日志

### v1.0.0 (2026-01-08)
- 初始版本发布
- 实现基本的文件管理功能（打开、保存）
- 实现 C 代码编译功能
- 支持生成汇编文件、ELF 文件和 COE 文件
- 提供代码编辑器和输出面板

---

**注意**：本 IDE 目前仅支持编译功能，不包含程序运行功能。